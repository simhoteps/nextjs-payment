(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2445:function(e,r,a){Promise.resolve().then(a.bind(a,8605))},8605:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return W}});var t=a(7437),i=a(3247),s=a.n(i);a(8877);var l=a(8518),n=a.n(l),o=a(2265),c=a(4389),d=a(6648),u=a(7110),m=a.n(u),p=a(1444),h=(a(1029),a(2455),a(4921)),x=a(3580);a(4193);let y={notifyError:(e,r)=>{x.Am.error((0,t.jsx)("div",{onClick:r,children:(0,t.jsx)(c.Z,{style:{color:"#FF0E00"},children:e})}),{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,icon:(0,t.jsx)(h.Z,{style:{color:"#FF0E00"}})})}};var f=a(1904);let g=(0,f.hg)("user/fetchUser",async e=>{let{mail:r,code:a}=e;try{let e=await fetch("https://caseapi-fe.paramtech.com.tr/api/users",{method:"POST",redirect:"follow",body:JSON.stringify({email:r,code:a})});if(!e.ok)throw y.notifyError("Veri getirme işlemi başarısız oldu."),Error("Veri getirme işlemi başarısız oldu.");return await e.json()}catch(e){throw Error("Veri getirme işlemi başarısız oldu.")}}),{actions:C,reducer:v}=(0,f.oM)({name:"user",initialState:{user:{},loginForm:{email:"",userCode:""}},reducers:{setUser:(e,r)=>{let a=r.payload.email,t=r.payload.userCode;"user@user.com"===a&&"SKQR-65"===t?(e.loginForm={email:r.payload.email,userCode:r.payload.userCode},sessionStorage.setItem("user",JSON.stringify({email:r.payload.email,userCode:r.payload.userCode})),document.location.reload()):y.notifyError("Veri getirme işlemi başarısız oldu.")}},extraReducers:e=>{e.addCase(g.fulfilled,(e,r)=>{e.user=r.payload})}}),k=e=>{let{user:r}=e;return r};var j=a(5630),_=a(8924),b=a(3282),N=a(9733);let P=[{key:"1",label:(0,t.jsx)(_.ZP,{onClick:()=>{sessionStorage.removeItem("user"),document.location.reload()},type:"text",children:"Logout"})}];var Z=()=>(0,t.jsx)(b.Z,{menu:{items:P},children:(0,t.jsx)(N.ZP.Button,{className:m().user,onClick:e=>e.preventDefault(),value:"start",children:(0,t.jsx)(j.Z,{style:{fontSize:"18px"},color:"white"})})}),S=a(7138),z=()=>{let e=(0,p.v9)(k);return(0,t.jsxs)("nav",{className:m().navbar,children:[(0,t.jsx)(S.default,{href:"/",children:(0,t.jsx)(d.default,{src:"/paramtechLogo.svg",alt:"Paramtech Logo",width:100,height:28,priority:!0})}),(0,t.jsxs)("div",{className:m().userContainer,children:[(0,t.jsx)(Z,{}),(0,t.jsx)(c.Z,{children:e.loginForm.email})]})]})},I=a(6804),w=a(4234),E=a(9782),F=a(5574),O=a(1046);let D={key:"packages",storage:O.Z,whitelist:["totalPrice","selectPackage"]},A={key:"user",storage:O.Z,whitelist:["user","loginForm"]},J={key:"payment",storage:O.Z,whitelist:["creditCardForm","paymentInfo"]},B=(0,I.UY)({packages:(0,F.OJ)(D,w.I6),payment:(0,F.OJ)(J,E.I6),user:(0,F.OJ)(A,v)}),H=(0,f.xC)({reducer:B,middleware:e=>e({serializableCheck:!1})});function M(e){let{children:r}=e;return(0,t.jsx)(p.zt,{store:H,children:r})}(0,F.p5)(H);var U=a(9569),V=a(2416),G=a(2008),K=a.n(G),R=a(9381),q=a(4245);let L=q.Ry().shape({email:q.Z_().email("Ge\xe7ersiz mail adresi").required("Gerekli Alan"),userCode:q.Z_().min(7,"En az 7 karakter uzunluğunda olmalı").required("Gerekli Alan")});var Q=()=>{let e=(0,p.I0)();return(0,t.jsx)("div",{className:K().main,children:(0,t.jsx)(R.J9,{initialValues:{email:"",userCode:""},validationSchema:L,onSubmit:(e,r)=>{},children:r=>{let{values:a,touched:i,errors:s,dirty:l,handleBlur:n,handleChange:o,handleSubmit:d,setSubmitting:u}=r;return(0,t.jsx)(R.l0,{onSubmit:e=>{e.preventDefault(),d(),u(!1)},children:(0,t.jsxs)("div",{className:K().container,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Z,{children:"Email Adresiniz"}),(0,t.jsx)(U.Z,{size:"large",prefix:(0,t.jsx)(V.Z,{}),name:"email",value:a.email,onChange:o,onBlur:n,status:s.email&&i.email?"error":""}),s.email&&i.email&&(0,t.jsx)(c.Z,{style:{color:"#E22323",fontSize:"12px"},children:s.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Z,{className:K().text,children:"Kullanıcı Kodunuz"}),(0,t.jsx)(U.Z,{size:"large",prefix:(0,t.jsx)(j.Z,{}),name:"userCode",value:a.userCode,onChange:o,onBlur:n,status:s.userCode&&i.userCode?"error":""}),s.userCode&&i.userCode&&(0,t.jsx)(c.Z,{style:{color:"#E22323",fontSize:"12px"},children:s.userCode})]}),(0,t.jsx)(_.ZP,{disabled:!l||void 0!==s.email||void 0!==s.userCode,onClick:()=>{e(C.setUser({email:a.email,userCode:a.userCode}))},block:!0,size:"large",type:"primary",children:"Devam et"})]})})}})})};function W(e){let{children:r}=e,[a,i]=(0,o.useState)("");return(0,o.useEffect)(()=>{i(sessionStorage.getItem("user")||"")},[]),(0,t.jsx)("html",{lang:"en",children:(0,t.jsxs)("body",{className:s().className,children:[(0,t.jsx)(M,{children:""!==a?(0,t.jsxs)("div",{children:[(0,t.jsx)(z,{}),(0,t.jsx)("main",{className:n().content,children:r})]}):(0,t.jsx)(Q,{})}),(0,t.jsx)(x.Ix,{})]})})}},4234:function(e,r,a){"use strict";a.d(r,{I6:function(){return i},Nw:function(){return t},_Z:function(){return s}});let{actions:t,reducer:i}=(0,a(1904).oM)({name:"packages",initialState:{selectPackage:[],totalPrice:0,packages:[]},reducers:{setPackagesSelect:(e,r)=>{e.selectPackage.find(e=>e._id===r.payload._id)?(e.selectPackage=e.selectPackage.filter(e=>e._id!==r.payload._id),e.totalPrice=e.selectPackage.reduce((e,r)=>e+r.price,0)):(e.selectPackage=[...e.selectPackage,r.payload],e.totalPrice=e.selectPackage.reduce((e,r)=>e+r.price,0))}}}),s=e=>{let{packages:r}=e;return r}},9782:function(e,r,a){"use strict";a.d(r,{I6:function(){return i},Nw:function(){return t},yM:function(){return s}});let{actions:t,reducer:i}=(0,a(1904).oM)({name:"payment",initialState:{creditCardForm:{},paymentInfo:{}},reducers:{setPaymentSelect:(e,r)=>{let a=e.creditCardForm.cardNumber.split(" "),t="".concat(a[0]).concat(a[1]).concat(a[2]).concat(a[3]);e.paymentInfo={packageIds:r.payload.packageIds,cardNumber:parseInt(t),cardHolderName:e.creditCardForm.cardHolderName,expireDate:e.creditCardForm.expireDate,cvv:e.creditCardForm.cvv,totalAmount:r.payload.totalAmount,currency:"BMD"}},setCardInfo:(e,r)=>{e.creditCardForm={cardHolderName:r.payload.cardHolderName,cardNumber:r.payload.cardNumber,expireDate:r.payload.expireDate,cvv:r.payload.cvv}}}}),s=e=>{let{payment:r}=e;return r}},8877:function(){},8518:function(e){e.exports={content:"page_content___38fW",main:"page_main__nw1Wk"}},2008:function(e){e.exports={main:"styled_main__xEqI4",container:"styled_container__KFc69",text:"styled_text__kesQU"}},7110:function(e){e.exports={navbar:"styled_navbar__z8ktk",userContainer:"styled_userContainer__G9YPQ",user:"styled_user__Rmbic"}}},function(e){e.O(0,[934,178,43,173,532,974,967,971,23,744],function(){return e(e.s=2445)}),_N_E=e.O()}]);