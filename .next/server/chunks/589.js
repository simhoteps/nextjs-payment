exports.id=589,exports.ids=[589],exports.modules={2862:(e,r,a)=>{Promise.resolve().then(a.bind(a,1552))},3680:(e,r,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},1552:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>L});var t=a(326),s=a(2527),i=a.n(s);a(4047);var l=a(9376),o=a.n(l);a(7577);var n=a(7019),d=a(6226),c=a(8737),m=a.n(c),u=a(5842),p=(a(2226),a(3013),a(6771)),x=a(9394);a(5996);let h={notifyError:(e,r)=>{x.Am.error(t.jsx("div",{onClick:r,children:t.jsx(n.Z,{style:{color:"#FF0E00"},children:e})}),{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,icon:t.jsx(p.Z,{style:{color:"#FF0E00"}})})}};var y=a(4286);let g=(0,y.hg)("user/fetchUser",async({mail:e,code:r})=>{try{let a=await fetch("https://caseapi-fe.paramtech.com.tr/api/users",{method:"POST",redirect:"follow",body:JSON.stringify({email:e,code:r})});if(!a.ok)throw h.notifyError("Veri getirme işlemi başarısız oldu."),Error("Veri getirme işlemi başarısız oldu.");return await a.json()}catch(e){throw Error("Veri getirme işlemi başarısız oldu.")}}),{actions:v,reducer:j}=(0,y.oM)({name:"user",initialState:{user:{},loginForm:{email:"",userCode:""}},reducers:{setUser:(e,r)=>{let a=r.payload.email,t=r.payload.userCode;"user@user.com"===a&&"SKQR-65"===t?e.loginForm={email:r.payload.email,userCode:r.payload.userCode}:h.notifyError("Veri getirme işlemi başarısız oldu.")}},extraReducers:e=>{e.addCase(g.fulfilled,(e,r)=>{e.user=r.payload})}}),C=({user:e})=>e;var k=a(331),f=a(3259),_=a(8354),b=a(3514);let P=[{key:"1",label:t.jsx(f.ZP,{onClick:()=>{},type:"text",children:"Logout"})}],Z=()=>t.jsx(_.Z,{menu:{items:P},children:t.jsx(b.ZP.Button,{className:m().user,onClick:e=>e.preventDefault(),value:"start",children:t.jsx(k.Z,{style:{fontSize:"18px"},color:"white"})})});var z=a(434);let N=()=>{let e=(0,u.v9)(C);return(0,t.jsxs)("nav",{className:m().navbar,children:[t.jsx(z.default,{href:"/",children:t.jsx(d.default,{src:"/paramtechLogo.svg",alt:"Paramtech Logo",width:100,height:28,priority:!0})}),(0,t.jsxs)("div",{className:m().userContainer,children:[t.jsx(Z,{}),t.jsx(n.Z,{children:e.loginForm.email})]})]})};var S=a(712),w=a(4677),F=a(524),I=a(1762),E=a(1908);let D={key:"packages",storage:E.Z,whitelist:["totalPrice","selectPackage"]},H={key:"user",storage:E.Z,whitelist:["user","loginForm"]},O={key:"payment",storage:E.Z,whitelist:["creditCardForm","paymentInfo"]},U=(0,S.UY)({packages:(0,I.OJ)(D,w.I6),payment:(0,I.OJ)(O,F.I6),user:(0,I.OJ)(H,j)}),A=(0,y.xC)({reducer:U,middleware:e=>e({serializableCheck:!1})});function G({children:e}){return t.jsx(u.zt,{store:A,children:e})}(0,I.p5)(A);var M=a(9422),$=a(8111),B=a(2547),J=a.n(B),V=a(3703),K=a(123);let R=K.Ry().shape({email:K.Z_().email("Ge\xe7ersiz mail adresi").required("Gerekli Alan"),userCode:K.Z_().min(7,"En az 7 karakter uzunluğunda olmalı").required("Gerekli Alan")}),q=()=>{let e=(0,u.I0)();return t.jsx("div",{className:J().main,children:t.jsx(V.J9,{initialValues:{email:"",userCode:""},validationSchema:R,onSubmit:(e,r)=>{},children:r=>{let{values:a,touched:s,errors:i,dirty:l,handleBlur:o,handleChange:d,handleSubmit:c,setSubmitting:m}=r;return t.jsx(V.l0,{onSubmit:e=>{e.preventDefault(),c(),m(!1)},children:(0,t.jsxs)("div",{className:J().container,children:[(0,t.jsxs)("div",{children:[t.jsx(n.Z,{children:"Email Adresiniz"}),t.jsx(M.Z,{size:"large",prefix:t.jsx($.Z,{}),name:"email",value:a.email,onChange:d,onBlur:o,status:i.email&&s.email?"error":""}),i.email&&s.email&&t.jsx(n.Z,{style:{color:"#E22323",fontSize:"12px"},children:i.email})]}),(0,t.jsxs)("div",{children:[t.jsx(n.Z,{className:J().text,children:"Kullanıcı Kodunuz"}),t.jsx(M.Z,{size:"large",prefix:t.jsx(k.Z,{}),name:"userCode",value:a.userCode,onChange:d,onBlur:o,status:i.userCode&&s.userCode?"error":""}),i.userCode&&s.userCode&&t.jsx(n.Z,{style:{color:"#E22323",fontSize:"12px"},children:i.userCode})]}),t.jsx(f.ZP,{disabled:!l||void 0!==i.email||void 0!==i.userCode,onClick:()=>{e(v.setUser({email:a.email,userCode:a.userCode}))},block:!0,size:"large",type:"primary",children:"Devam et"})]})})}})})};function L({children:e}){return t.jsx("html",{lang:"en",children:(0,t.jsxs)("body",{className:i().className,children:[t.jsx(G,{children:sessionStorage.getItem("user")?(0,t.jsxs)("div",{children:[t.jsx(N,{}),t.jsx("main",{className:o().content,children:e})]}):t.jsx(q,{})}),t.jsx(x.Ix,{})]})})}},4677:(e,r,a)=>{"use strict";a.d(r,{I6:()=>s,Nw:()=>t,_Z:()=>i});let{actions:t,reducer:s}=(0,a(4286).oM)({name:"packages",initialState:{selectPackage:[],totalPrice:0,packages:[]},reducers:{setPackagesSelect:(e,r)=>{e.selectPackage.find(e=>e._id===r.payload._id)?(e.selectPackage=e.selectPackage.filter(e=>e._id!==r.payload._id),e.totalPrice=e.selectPackage.reduce((e,r)=>e+r.price,0)):(e.selectPackage=[...e.selectPackage,r.payload],e.totalPrice=e.selectPackage.reduce((e,r)=>e+r.price,0))}}}),i=({packages:e})=>e},524:(e,r,a)=>{"use strict";a.d(r,{I6:()=>s,Nw:()=>t,yM:()=>i});let{actions:t,reducer:s}=(0,a(4286).oM)({name:"payment",initialState:{creditCardForm:{},paymentInfo:{}},reducers:{setPaymentSelect:(e,r)=>{let a=e.creditCardForm.cardNumber.split(" "),t=`${a[0]}${a[1]}${a[2]}${a[3]}`;e.paymentInfo={packageIds:r.payload.packageIds,cardNumber:parseInt(t),cardHolderName:e.creditCardForm.cardHolderName,expireDate:e.creditCardForm.expireDate,cvv:e.creditCardForm.cvv,totalAmount:r.payload.totalAmount,currency:"BMD"}},setCardInfo:(e,r)=>{e.creditCardForm={cardHolderName:r.payload.cardHolderName,cardNumber:r.payload.cardNumber,expireDate:r.payload.expireDate,cvv:r.payload.cvv}}}}),i=({payment:e})=>e},9376:e=>{e.exports={content:"page_content___38fW",main:"page_main__nw1Wk"}},2547:e=>{e.exports={main:"styled_main__xEqI4",container:"styled_container__KFc69",text:"styled_text__kesQU"}},8737:e=>{e.exports={navbar:"styled_navbar__z8ktk",userContainer:"styled_userContainer__G9YPQ",user:"styled_user__Rmbic"}},1506:(e,r,a)=>{"use strict";a.r(r),a.d(r,{$$typeof:()=>l,__esModule:()=>i,default:()=>o});var t=a(8570);let s=(0,t.createProxy)(String.raw`/Users/zuhalhayat/Documents/GitHub/nextjs-payment/app/layout.tsx`),{__esModule:i,$$typeof:l}=s;s.default;let o=(0,t.createProxy)(String.raw`/Users/zuhalhayat/Documents/GitHub/nextjs-payment/app/layout.tsx#default`)},4047:()=>{}};